!function(window,document,undefined){"use strict";function Skrollr(options){if(documentElement=document.documentElement,body=document.body,detectCSSPrefix(),_instance=this,options=options||{},_constants=options.constants||{},options.easing)for(var e in options.easing)easings[e]=options.easing[e];_edgeStrategy=options.edgeStrategy||"set",_listeners={beforerender:options.beforerender,render:options.render},_forceHeight=options.forceHeight!==!1,_forceHeight&&(_scale=options.scale||1),_mobileDeceleration=options.mobileDeceleration||DEFAULT_MOBILE_DECELERATION,_smoothScrollingEnabled=options.smoothScrolling!==!1,_smoothScrollingDuration=options.smoothScrollingDuration||DEFAULT_SMOOTH_SCROLLING_DURATION,_smoothScrolling={targetTop:_instance.getScrollTop()},_isMobile=(options.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)})(),_isMobile?(_skrollrBody=document.getElementById("skrollr-body"),_skrollrBody&&_detect3DTransforms(),_initMobile(),_updateClass(documentElement,[SKROLLR_CLASS,SKROLLR_MOBILE_CLASS],[NO_SKROLLR_CLASS])):_updateClass(documentElement,[SKROLLR_CLASS,SKROLLR_DESKTOP_CLASS],[NO_SKROLLR_CLASS]),_instance.refresh(),_addEvent(window,"resize orientationchange",function(){var width=documentElement.clientWidth,height=documentElement.clientHeight;(height!==_lastViewportHeight||width!==_lastViewportWidth)&&(_lastViewportHeight=height,_lastViewportWidth=width,_requestReflow=!0)});var requestAnimFrame=polyfillRAF();return function animloop(){_render(),_animFrame=requestAnimFrame(animloop)}(),_instance}var documentElement,body,skrollr=window.skrollr={get:function(){return _instance},init:function(options){return _instance||new Skrollr(options)},VERSION:"0.6.17"},hasProp=Object.prototype.hasOwnProperty,Math=window.Math,getStyle=window.getComputedStyle,EVENT_TOUCHSTART="touchstart",EVENT_TOUCHMOVE="touchmove",EVENT_TOUCHCANCEL="touchcancel",EVENT_TOUCHEND="touchend",SKROLLABLE_CLASS="skrollable",SKROLLABLE_BEFORE_CLASS=SKROLLABLE_CLASS+"-before",SKROLLABLE_BETWEEN_CLASS=SKROLLABLE_CLASS+"-between",SKROLLABLE_AFTER_CLASS=SKROLLABLE_CLASS+"-after",SKROLLR_CLASS="skrollr",NO_SKROLLR_CLASS="no-"+SKROLLR_CLASS,SKROLLR_DESKTOP_CLASS=SKROLLR_CLASS+"-desktop",SKROLLR_MOBILE_CLASS=SKROLLR_CLASS+"-mobile",DEFAULT_EASING="linear",DEFAULT_DURATION=1e3,DEFAULT_MOBILE_DECELERATION=.004,DEFAULT_SMOOTH_SCROLLING_DURATION=200,ANCHOR_START="start",ANCHOR_END="end",ANCHOR_CENTER="center",ANCHOR_BOTTOM="bottom",SKROLLABLE_ID_DOM_PROPERTY="___skrollable_id",rxTouchIgnoreTags=/^(?:input|textarea|button|select)$/i,rxTrim=/^\s+|\s+$/g,rxKeyframeAttribute=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,rxPropValue=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,rxPropEasing=/^([a-z\-]+)\[(\w+)\]$/,rxCamelCase=/-([a-z])/g,rxCamelCaseFn=function(str,letter){return letter.toUpperCase()},rxNumericValue=/[\-+]?[\d]*\.?[\d]+/g,rxInterpolateString=/\{\?\}/g,rxRGBAIntegerColor=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,rxGradient=/[a-z\-]+-gradient/g,theCSSPrefix="",theDashedCSSPrefix="",detectCSSPrefix=function(){var rxPrefixes=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(getStyle){var style=getStyle(body,null);for(var k in style)if(theCSSPrefix=k.match(rxPrefixes)||+k==k&&style[k].match(rxPrefixes))break;if(!theCSSPrefix)return theCSSPrefix=theDashedCSSPrefix="",void 0;theCSSPrefix=theCSSPrefix[0],"-"===theCSSPrefix.slice(0,1)?(theDashedCSSPrefix=theCSSPrefix,theCSSPrefix={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[theCSSPrefix]):theDashedCSSPrefix="-"+theCSSPrefix.toLowerCase()+"-"}},polyfillRAF=function(){var requestAnimFrame=window.requestAnimationFrame||window[theCSSPrefix.toLowerCase()+"RequestAnimationFrame"],lastTime=_now();return(_isMobile||!requestAnimFrame)&&(requestAnimFrame=function(callback){var deltaTime=_now()-lastTime,delay=Math.max(0,1e3/60-deltaTime);return window.setTimeout(function(){lastTime=_now(),callback()},delay)}),requestAnimFrame},polyfillCAF=function(){var cancelAnimFrame=window.cancelAnimationFrame||window[theCSSPrefix.toLowerCase()+"CancelAnimationFrame"];return(_isMobile||!cancelAnimFrame)&&(cancelAnimFrame=function(timeout){return window.clearTimeout(timeout)}),cancelAnimFrame},easings={begin:function(){return 0},end:function(){return 1},linear:function(p){return p},quadratic:function(p){return p*p},cubic:function(p){return p*p*p},swing:function(p){return-Math.cos(p*Math.PI)/2+.5},sqrt:function(p){return Math.sqrt(p)},outCubic:function(p){return Math.pow(p-1,3)+1},bounce:function(p){var a;if(.5083>=p)a=3;else if(.8489>=p)a=9;else if(.96208>=p)a=27;else{if(!(.99981>=p))return 1;a=91}return 1-Math.abs(3*Math.cos(p*a*1.028)/a)}};Skrollr.prototype.refresh=function(elements){var elementIndex,elementsLength,ignoreID=!1;for(elements===undefined?(ignoreID=!0,_skrollables=[],_skrollableIdCounter=0,elements=document.getElementsByTagName("*")):elements=[].concat(elements),elementIndex=0,elementsLength=elements.length;elementsLength>elementIndex;elementIndex++){var el=elements[elementIndex],anchorTarget=el,keyFrames=[],smoothScrollThis=_smoothScrollingEnabled,edgeStrategy=_edgeStrategy;if(el.attributes){for(var attributeIndex=0,attributesLength=el.attributes.length;attributesLength>attributeIndex;attributeIndex++){var attr=el.attributes[attributeIndex];if("data-anchor-target"!==attr.name)if("data-smooth-scrolling"!==attr.name)if("data-edge-strategy"!==attr.name){var match=attr.name.match(rxKeyframeAttribute);if(null!==match){var kf={props:attr.value,element:el};keyFrames.push(kf);var constant=match[1];constant=constant&&_constants[constant.substr(1)]||0;var offset=match[2];/p$/.test(offset)?(kf.isPercentage=!0,kf.offset=((0|offset.slice(0,-1))+constant)/100):kf.offset=(0|offset)+constant;var anchor1=match[3],anchor2=match[4]||anchor1;anchor1&&anchor1!==ANCHOR_START&&anchor1!==ANCHOR_END?(kf.mode="relative",kf.anchors=[anchor1,anchor2]):(kf.mode="absolute",anchor1===ANCHOR_END?kf.isEnd=!0:kf.isPercentage||(kf.frame=kf.offset*_scale,delete kf.offset))}}else edgeStrategy=attr.value;else smoothScrollThis="off"!==attr.value;else if(anchorTarget=document.querySelector(attr.value),null===anchorTarget)throw'Unable to find anchor target "'+attr.value+'"'}if(keyFrames.length){var styleAttr,classAttr,id;!ignoreID&&SKROLLABLE_ID_DOM_PROPERTY in el?(id=el[SKROLLABLE_ID_DOM_PROPERTY],styleAttr=_skrollables[id].styleAttr,classAttr=_skrollables[id].classAttr):(id=el[SKROLLABLE_ID_DOM_PROPERTY]=_skrollableIdCounter++,styleAttr=el.style.cssText,classAttr=_getClass(el)),_skrollables[id]={element:el,styleAttr:styleAttr,classAttr:classAttr,anchorTarget:anchorTarget,keyFrames:keyFrames,smoothScrolling:smoothScrollThis,edgeStrategy:edgeStrategy},_updateClass(el,[SKROLLABLE_CLASS],[])}}}for(_reflow(),elementIndex=0,elementsLength=elements.length;elementsLength>elementIndex;elementIndex++){var sk=_skrollables[elements[elementIndex][SKROLLABLE_ID_DOM_PROPERTY]];sk!==undefined&&(_parseProps(sk),_fillProps(sk))}return _instance},Skrollr.prototype.relativeToAbsolute=function(element,viewportAnchor,elementAnchor){var viewportHeight=documentElement.clientHeight,box=element.getBoundingClientRect(),absolute=box.top,boxHeight=box.bottom-box.top;return viewportAnchor===ANCHOR_BOTTOM?absolute-=viewportHeight:viewportAnchor===ANCHOR_CENTER&&(absolute-=viewportHeight/2),elementAnchor===ANCHOR_BOTTOM?absolute+=boxHeight:elementAnchor===ANCHOR_CENTER&&(absolute+=boxHeight/2),absolute+=_instance.getScrollTop(),absolute+.5|0},Skrollr.prototype.animateTo=function(top,options){options=options||{};var now=_now(),scrollTop=_instance.getScrollTop();return _scrollAnimation={startTop:scrollTop,topDiff:top-scrollTop,targetTop:top,duration:options.duration||DEFAULT_DURATION,startTime:now,endTime:now+(options.duration||DEFAULT_DURATION),easing:easings[options.easing||DEFAULT_EASING],done:options.done},_scrollAnimation.topDiff||(_scrollAnimation.done&&_scrollAnimation.done.call(_instance,!1),_scrollAnimation=undefined),_instance},Skrollr.prototype.stopAnimateTo=function(){_scrollAnimation&&_scrollAnimation.done&&_scrollAnimation.done.call(_instance,!0),_scrollAnimation=undefined},Skrollr.prototype.isAnimatingTo=function(){return!!_scrollAnimation},Skrollr.prototype.setScrollTop=function(top,force){return _forceRender=force===!0,_isMobile?_mobileOffset=Math.min(Math.max(top,0),_maxKeyFrame):window.scrollTo(0,top),_instance},Skrollr.prototype.getScrollTop=function(){return _isMobile?_mobileOffset:window.pageYOffset||documentElement.scrollTop||body.scrollTop||0},Skrollr.prototype.getMaxScrollTop=function(){return _maxKeyFrame},Skrollr.prototype.on=function(name,fn){return _listeners[name]=fn,_instance},Skrollr.prototype.off=function(name){return delete _listeners[name],_instance},Skrollr.prototype.destroy=function(){var cancelAnimFrame=polyfillCAF();cancelAnimFrame(_animFrame),_removeAllEvents(),_updateClass(documentElement,[NO_SKROLLR_CLASS],[SKROLLR_CLASS,SKROLLR_DESKTOP_CLASS,SKROLLR_MOBILE_CLASS]);for(var skrollableIndex=0,skrollablesLength=_skrollables.length;skrollablesLength>skrollableIndex;skrollableIndex++)_reset(_skrollables[skrollableIndex].element);documentElement.style.overflow=body.style.overflow="auto",documentElement.style.height=body.style.height="auto",_skrollrBody&&skrollr.setStyle(_skrollrBody,"transform","none"),_instance=undefined,_skrollrBody=undefined,_listeners=undefined,_forceHeight=undefined,_maxKeyFrame=0,_scale=1,_constants=undefined,_mobileDeceleration=undefined,_direction="down",_lastTop=-1,_lastViewportWidth=0,_lastViewportHeight=0,_requestReflow=!1,_scrollAnimation=undefined,_smoothScrollingEnabled=undefined,_smoothScrollingDuration=undefined,_smoothScrolling=undefined,_forceRender=undefined,_skrollableIdCounter=0,_edgeStrategy=undefined,_isMobile=!1,_mobileOffset=0,_translateZ=undefined};var _initMobile=function(){var initialElement,initialTouchY,initialTouchX,currentElement,currentTouchY,currentTouchX,lastTouchY,deltaY,initialTouchTime,currentTouchTime,lastTouchTime,deltaTime;_addEvent(documentElement,[EVENT_TOUCHSTART,EVENT_TOUCHMOVE,EVENT_TOUCHCANCEL,EVENT_TOUCHEND].join(" "),function(e){var touch=e.changedTouches[0];for(currentElement=e.target;3===currentElement.nodeType;)currentElement=currentElement.parentNode;switch(currentTouchY=touch.clientY,currentTouchX=touch.clientX,currentTouchTime=e.timeStamp,rxTouchIgnoreTags.test(currentElement.tagName)||e.preventDefault(),e.type){case EVENT_TOUCHSTART:initialElement&&initialElement.blur(),_instance.stopAnimateTo(),initialElement=currentElement,initialTouchY=lastTouchY=currentTouchY,initialTouchX=currentTouchX,initialTouchTime=currentTouchTime;break;case EVENT_TOUCHMOVE:rxTouchIgnoreTags.test(currentElement.tagName)&&document.activeElement!==currentElement&&e.preventDefault(),deltaY=currentTouchY-lastTouchY,deltaTime=currentTouchTime-lastTouchTime,_instance.setScrollTop(_mobileOffset-deltaY,!0),lastTouchY=currentTouchY,lastTouchTime=currentTouchTime;break;default:case EVENT_TOUCHCANCEL:case EVENT_TOUCHEND:var distanceY=initialTouchY-currentTouchY,distanceX=initialTouchX-currentTouchX,distance2=distanceX*distanceX+distanceY*distanceY;if(49>distance2){if(!rxTouchIgnoreTags.test(initialElement.tagName)){initialElement.focus();var clickEvent=document.createEvent("MouseEvents");clickEvent.initMouseEvent("click",!0,!0,e.view,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),initialElement.dispatchEvent(clickEvent)}return}initialElement=undefined;var speed=deltaY/deltaTime;speed=Math.max(Math.min(speed,3),-3);var duration=Math.abs(speed/_mobileDeceleration),targetOffset=speed*duration+.5*_mobileDeceleration*duration*duration,targetTop=_instance.getScrollTop()-targetOffset,targetRatio=0;targetTop>_maxKeyFrame?(targetRatio=(_maxKeyFrame-targetTop)/targetOffset,targetTop=_maxKeyFrame):0>targetTop&&(targetRatio=-targetTop/targetOffset,targetTop=0),duration*=1-targetRatio,_instance.animateTo(targetTop+.5|0,{easing:"outCubic",duration:duration})}}),window.scrollTo(0,0),documentElement.style.overflow=body.style.overflow="hidden"},_updateDependentKeyFrames=function(){var skrollable,element,anchorTarget,keyFrames,keyFrameIndex,keyFramesLength,kf,skrollableIndex,skrollablesLength;for(skrollableIndex=0,skrollablesLength=_skrollables.length;skrollablesLength>skrollableIndex;skrollableIndex++)for(skrollable=_skrollables[skrollableIndex],element=skrollable.element,anchorTarget=skrollable.anchorTarget,keyFrames=skrollable.keyFrames,keyFrameIndex=0,keyFramesLength=keyFrames.length;keyFramesLength>keyFrameIndex;keyFrameIndex++){kf=keyFrames[keyFrameIndex];var offset=kf.offset;kf.isPercentage&&(offset*=documentElement.clientHeight,kf.frame=offset),"relative"===kf.mode&&(_reset(element),kf.frame=_instance.relativeToAbsolute(anchorTarget,kf.anchors[0],kf.anchors[1])-offset,_reset(element,!0)),_forceHeight&&!kf.isEnd&&kf.frame>_maxKeyFrame&&(_maxKeyFrame=kf.frame)}for(_maxKeyFrame=Math.max(_maxKeyFrame,_getDocumentHeight()),skrollableIndex=0,skrollablesLength=_skrollables.length;skrollablesLength>skrollableIndex;skrollableIndex++){for(skrollable=_skrollables[skrollableIndex],keyFrames=skrollable.keyFrames,keyFrameIndex=0,keyFramesLength=keyFrames.length;keyFramesLength>keyFrameIndex;keyFrameIndex++)kf=keyFrames[keyFrameIndex],kf.isEnd&&(kf.frame=_maxKeyFrame-kf.offset);skrollable.keyFrames.sort(_keyFrameComparator)}},_calcSteps=function(fakeFrame,actualFrame){for(var skrollableIndex=0,skrollablesLength=_skrollables.length;skrollablesLength>skrollableIndex;skrollableIndex++){var key,value,skrollable=_skrollables[skrollableIndex],element=skrollable.element,frame=skrollable.smoothScrolling?fakeFrame:actualFrame,frames=skrollable.keyFrames,firstFrame=frames[0].frame,lastFrame=frames[frames.length-1].frame,beforeFirst=firstFrame>frame,afterLast=frame>lastFrame,firstOrLastFrame=frames[beforeFirst?0:frames.length-1];if(beforeFirst||afterLast){if(beforeFirst&&-1===skrollable.edge||afterLast&&1===skrollable.edge)continue;switch(_updateClass(element,[beforeFirst?SKROLLABLE_BEFORE_CLASS:SKROLLABLE_AFTER_CLASS],[SKROLLABLE_BEFORE_CLASS,SKROLLABLE_BETWEEN_CLASS,SKROLLABLE_AFTER_CLASS]),skrollable.edge=beforeFirst?-1:1,skrollable.edgeStrategy){case"reset":_reset(element);continue;case"ease":frame=firstOrLastFrame.frame;break;default:case"set":var props=firstOrLastFrame.props;for(key in props)hasProp.call(props,key)&&(value=_interpolateString(props[key].value),skrollr.setStyle(element,key,value));continue}}else 0!==skrollable.edge&&(_updateClass(element,[SKROLLABLE_CLASS,SKROLLABLE_BETWEEN_CLASS],[SKROLLABLE_BEFORE_CLASS,SKROLLABLE_AFTER_CLASS]),skrollable.edge=0);for(var keyFrameIndex=0,framesLength=frames.length-1;framesLength>keyFrameIndex;keyFrameIndex++)if(frame>=frames[keyFrameIndex].frame&&frame<=frames[keyFrameIndex+1].frame){var left=frames[keyFrameIndex],right=frames[keyFrameIndex+1];for(key in left.props)if(hasProp.call(left.props,key)){var progress=(frame-left.frame)/(right.frame-left.frame);progress=left.props[key].easing(progress),value=_calcInterpolation(left.props[key].value,right.props[key].value,progress),value=_interpolateString(value),skrollr.setStyle(element,key,value)}break}}},_render=function(){_requestReflow&&(_requestReflow=!1,_reflow());var afterAnimationCallback,progress,renderTop=_instance.getScrollTop(),now=_now();if(_scrollAnimation)now>=_scrollAnimation.endTime?(renderTop=_scrollAnimation.targetTop,afterAnimationCallback=_scrollAnimation.done,_scrollAnimation=undefined):(progress=_scrollAnimation.easing((now-_scrollAnimation.startTime)/_scrollAnimation.duration),renderTop=_scrollAnimation.startTop+progress*_scrollAnimation.topDiff|0),_instance.setScrollTop(renderTop,!0);else if(!_forceRender){var smoothScrollingDiff=_smoothScrolling.targetTop-renderTop;smoothScrollingDiff&&(_smoothScrolling={startTop:_lastTop,topDiff:renderTop-_lastTop,targetTop:renderTop,startTime:_lastRenderCall,endTime:_lastRenderCall+_smoothScrollingDuration}),now<=_smoothScrolling.endTime&&(progress=easings.sqrt((now-_smoothScrolling.startTime)/_smoothScrollingDuration),renderTop=_smoothScrolling.startTop+progress*_smoothScrolling.topDiff|0)}if(_isMobile&&_skrollrBody&&skrollr.setStyle(_skrollrBody,"transform","translate(0, "+-_mobileOffset+"px) "+_translateZ),_forceRender||_lastTop!==renderTop){_direction=renderTop>_lastTop?"down":_lastTop>renderTop?"up":_direction,_forceRender=!1;var listenerParams={curTop:renderTop,lastTop:_lastTop,maxTop:_maxKeyFrame,direction:_direction},continueRendering=_listeners.beforerender&&_listeners.beforerender.call(_instance,listenerParams);continueRendering!==!1&&(_calcSteps(renderTop,_instance.getScrollTop()),_lastTop=renderTop,_listeners.render&&_listeners.render.call(_instance,listenerParams)),afterAnimationCallback&&afterAnimationCallback.call(_instance,!1)}_lastRenderCall=now},_parseProps=function(skrollable){for(var keyFrameIndex=0,keyFramesLength=skrollable.keyFrames.length;keyFramesLength>keyFrameIndex;keyFrameIndex++){for(var easing,value,prop,match,frame=skrollable.keyFrames[keyFrameIndex],props={};null!==(match=rxPropValue.exec(frame.props));)prop=match[1],value=match[2],easing=prop.match(rxPropEasing),null!==easing?(prop=easing[1],easing=easing[2]):easing=DEFAULT_EASING,value=value.indexOf("!")?_parseProp(value):[value.slice(1)],props[prop]={value:value,easing:easings[easing]};frame.props=props}},_parseProp=function(val){var numbers=[];return rxRGBAIntegerColor.lastIndex=0,val=val.replace(rxRGBAIntegerColor,function(rgba){return rgba.replace(rxNumericValue,function(n){return n/255*100+"%"})}),theDashedCSSPrefix&&(rxGradient.lastIndex=0,val=val.replace(rxGradient,function(s){return theDashedCSSPrefix+s})),val=val.replace(rxNumericValue,function(n){return numbers.push(+n),"{?}"}),numbers.unshift(val),numbers},_fillProps=function(sk){var keyFrameIndex,keyFramesLength,propList={};for(keyFrameIndex=0,keyFramesLength=sk.keyFrames.length;keyFramesLength>keyFrameIndex;keyFrameIndex++)_fillPropForFrame(sk.keyFrames[keyFrameIndex],propList);for(propList={},keyFrameIndex=sk.keyFrames.length-1;keyFrameIndex>=0;keyFrameIndex--)_fillPropForFrame(sk.keyFrames[keyFrameIndex],propList)},_fillPropForFrame=function(frame,propList){var key;for(key in propList)hasProp.call(frame.props,key)||(frame.props[key]=propList[key]);for(key in frame.props)propList[key]=frame.props[key]},_calcInterpolation=function(val1,val2,progress){var valueIndex,val1Length=val1.length;if(val1Length!==val2.length)throw"Can't interpolate between \""+val1[0]+'" and "'+val2[0]+'"';var interpolated=[val1[0]];for(valueIndex=1;val1Length>valueIndex;valueIndex++)interpolated[valueIndex]=val1[valueIndex]+(val2[valueIndex]-val1[valueIndex])*progress;return interpolated},_interpolateString=function(val){var valueIndex=1;return rxInterpolateString.lastIndex=0,val[0].replace(rxInterpolateString,function(){return val[valueIndex++]})},_reset=function(elements,undo){elements=[].concat(elements);for(var skrollable,element,elementsIndex=0,elementsLength=elements.length;elementsLength>elementsIndex;elementsIndex++)element=elements[elementsIndex],skrollable=_skrollables[element[SKROLLABLE_ID_DOM_PROPERTY]],skrollable&&(undo?(element.style.cssText=skrollable.dirtyStyleAttr,_updateClass(element,skrollable.dirtyClassAttr)):(skrollable.dirtyStyleAttr=element.style.cssText,skrollable.dirtyClassAttr=_getClass(element),element.style.cssText=skrollable.styleAttr,_updateClass(element,skrollable.classAttr)))},_detect3DTransforms=function(){_translateZ="translateZ(0)",skrollr.setStyle(_skrollrBody,"transform",_translateZ);var computedStyle=getStyle(_skrollrBody),computedTransform=computedStyle.getPropertyValue("transform"),computedTransformWithPrefix=computedStyle.getPropertyValue(theDashedCSSPrefix+"transform"),has3D=computedTransform&&"none"!==computedTransform||computedTransformWithPrefix&&"none"!==computedTransformWithPrefix;has3D||(_translateZ="")};skrollr.setStyle=function(el,prop,val){var style=el.style;if(prop=prop.replace(rxCamelCase,rxCamelCaseFn).replace("-",""),"zIndex"===prop)style[prop]=isNaN(val)?val:""+(0|val);else if("float"===prop)style.styleFloat=style.cssFloat=val;else try{theCSSPrefix&&(style[theCSSPrefix+prop.slice(0,1).toUpperCase()+prop.slice(1)]=val),style[prop]=val}catch(ignore){}};var _instance,_skrollables,_skrollrBody,_listeners,_forceHeight,_constants,_mobileDeceleration,_scrollAnimation,_smoothScrollingEnabled,_smoothScrollingDuration,_smoothScrolling,_forceRender,_edgeStrategy,_translateZ,_animFrame,_addEvent=skrollr.addEvent=function(element,names,callback){var intermediate=function(e){return e=e||window.event,e.target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1}),callback.call(this,e)};names=names.split(" ");for(var name,nameCounter=0,namesLength=names.length;namesLength>nameCounter;nameCounter++)name=names[nameCounter],element.addEventListener?element.addEventListener(name,callback,!1):element.attachEvent("on"+name,intermediate),_registeredEvents.push({element:element,name:name,listener:callback})},_removeEvent=skrollr.removeEvent=function(element,names,callback){names=names.split(" ");for(var nameCounter=0,namesLength=names.length;namesLength>nameCounter;nameCounter++)element.removeEventListener?element.removeEventListener(names[nameCounter],callback,!1):element.detachEvent("on"+names[nameCounter],callback)},_removeAllEvents=function(){for(var eventData,eventCounter=0,eventsLength=_registeredEvents.length;eventsLength>eventCounter;eventCounter++)eventData=_registeredEvents[eventCounter],_removeEvent(eventData.element,eventData.name,eventData.listener);_registeredEvents=[]},_reflow=function(){var pos=_instance.getScrollTop();_maxKeyFrame=0,_forceHeight&&!_isMobile&&(body.style.height="auto"),_updateDependentKeyFrames(),_forceHeight&&!_isMobile&&(body.style.height=_maxKeyFrame+documentElement.clientHeight+"px"),_isMobile?_instance.setScrollTop(Math.min(_instance.getScrollTop(),_maxKeyFrame)):_instance.setScrollTop(pos,!0),_forceRender=!0},_getDocumentHeight=function(){var skrollrBodyHeight=_skrollrBody&&_skrollrBody.offsetHeight||0,bodyHeight=Math.max(skrollrBodyHeight,body.scrollHeight,body.offsetHeight,documentElement.scrollHeight,documentElement.offsetHeight,documentElement.clientHeight);return bodyHeight-documentElement.clientHeight},_getClass=function(element){var prop="className";return window.SVGElement&&element instanceof window.SVGElement&&(element=element[prop],prop="baseVal"),element[prop]},_updateClass=function(element,add,remove){var prop="className";if(window.SVGElement&&element instanceof window.SVGElement&&(element=element[prop],prop="baseVal"),remove===undefined)return element[prop]=add,void 0;for(var val=element[prop],classRemoveIndex=0,removeLength=remove.length;removeLength>classRemoveIndex;classRemoveIndex++)val=_untrim(val).replace(_untrim(remove[classRemoveIndex])," ");val=_trim(val);for(var classAddIndex=0,addLength=add.length;addLength>classAddIndex;classAddIndex++)-1===_untrim(val).indexOf(_untrim(add[classAddIndex]))&&(val+=" "+add[classAddIndex]);element[prop]=_trim(val)},_trim=function(a){return a.replace(rxTrim,"")},_untrim=function(a){return" "+a+" "},_now=Date.now||function(){return+new Date},_keyFrameComparator=function(a,b){return a.frame-b.frame},_maxKeyFrame=0,_scale=1,_direction="down",_lastTop=-1,_lastRenderCall=_now(),_lastViewportWidth=0,_lastViewportHeight=0,_requestReflow=!1,_skrollableIdCounter=0,_isMobile=!1,_mobileOffset=0,_registeredEvents=[]}(window,document);